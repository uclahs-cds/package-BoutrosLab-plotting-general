<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Takes a list and generates a grob representing one or more legends"><title>Generate a legend grob — legend.grob • BoutrosLab.plotting.general</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a legend grob — legend.grob"><meta property="og:description" content="Takes a list and generates a grob representing one or more legends"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BoutrosLab.plotting.general</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">7.0.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/uclahs-cds/public-R-BoutrosLab-plotting-general/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate a legend grob</h1>
      
      <div class="d-none name"><code>legend.grob.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Takes a list and generates a grob representing one or more legends</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">legend.grob</span><span class="op">(</span></span>
<span>  <span class="va">legends</span>,</span>
<span>  label.cex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  title.cex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  title.just <span class="op">=</span> <span class="st">'centre'</span>,</span>
<span>  title.fontface <span class="op">=</span> <span class="st">'bold'</span>,</span>
<span>  font.family <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  border <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  border.padding <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">legends</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  between.col <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  between.row <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  use.legacy.settings <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        x <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>        y <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  background.col <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  background.alpha <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span>;</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>legends</dt>
<dd><p>A list defining one or more legends. Each must be a separate component called 'legend'. Each component is a list with components 'colours', 'labels', 'border' (optional), 'title' (optional), and 'size' (optional).<br>
The 'colours' component is a vector of fill colours to be used for the rectangles, the 'labels' component is a vector of text labels corresponding to the colours, the 'border' component specifies the colours of the rectangle borders (defaults to black), and the 'title' component is a character string representing a title for the legend.</p></dd>

    <dt>label.cex</dt>
<dd><p>Size of text labels in the legends, defaults to 1.</p></dd>

    <dt>title.cex</dt>
<dd><p>Size of titles in the legends, defaults to 1.</p></dd>

    <dt>title.just</dt>
<dd><p>Justification of titles in the legends. Defaults to 'centre'.</p></dd>

    <dt>title.fontface</dt>
<dd><p>Font face of titles in the legends ('plain', 'bold', 'italic', etc.)</p></dd>

    <dt>font.family</dt>
<dd><p>Font to be used for legend text. If NULL, the default font is used.</p></dd>

    <dt>size</dt>
<dd><p>Width of the legend boxes in 'character' units. If a 'size' argument is specified for a legend component, it will override this value.</p></dd>

    <dt>border</dt>
<dd><p>A list of parameters (passed to <code>gpar</code>) specifying line options for the legend border. If NULL, no border is drawn.</p></dd>

    <dt>border.padding</dt>
<dd><p>The amount of empty space (split equally on both sides) to add between the legend and its border, in 'lines' units. Defaults to 1.</p></dd>

    <dt>layout</dt>
<dd><p>Numeric vector of length 2 specifying the number of columns and rows for the legend layout. Defaults to a 1-column layout. Note that legends are added to the layout in a row-wise order.</p></dd>

    <dt>between.col</dt>
<dd><p>Amount of space to add between columns in the layout, in 'lines' units. Defaults to 0.5.</p></dd>

    <dt>between.row</dt>
<dd><p>Amount of space to add between rows in the layout, in 'lines' units. Defaults to 0.5.</p></dd>

    <dt>use.legacy.settings</dt>
<dd><p>boolean to set wheter or not to use legacy mode settings (font)</p></dd>

    <dt>x</dt>
<dd><p>x coordinate in npc coordinate system</p></dd>

    <dt>y</dt>
<dd><p>y coordinate in npc coordinate system</p></dd>

    <dt>background.col</dt>
<dd><p>colour for the background of the legend grob</p></dd>

    <dt>background.alpha</dt>
<dd><p>alpha for the background of the legend grob</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns an grob representing the legend(s)</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Lauren Chong</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="create.heatmap.html">create.heatmap</a></code>, <code>draw.key</code>, <code>gpar</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="implementation">Implementation<a class="anchor" aria-label="anchor" href="#implementation"></a></h2>
    <p>This function was initially created to be called from <code>create.heatmap</code> to draw a covariate legend.<br>
The decision to use a grob (grid graphical object) to represent the legend was made based on the format of the <code>levelplot</code> function in the <code>lattice</code> package.  Since the <code>legend</code> argument of the function requires grobs, it was easiest to create a grob to represent the legend and then, if necessary, add this to any existing grobs (dendrograms, etc.) in the <code>create.heatmap</code> function using a grid layout.<br>
An alternative method of creating the legend using the <code>barchart</code> function was tested, but it was unclear how to merge this barchart with the heatmap since the <code>c.trellis</code> function attempts to unify the format of the two images, and the use of viewports required that the plots be drawn, eliminating the possibility of suppressing output and saving the final graph as a trellis object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># The 'cairo' graphics is preferred but on M1 Macs this is not available</span></span></span>
<span class="r-in"><span><span class="va">bitmap.type</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">'bitmapType'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/capabilities.html" class="external-link">capabilities</a></span><span class="op">(</span><span class="st">'cairo'</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">bitmap.type</span> <span class="op">&lt;-</span> <span class="st">'cairo'</span>;</span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create list representing two legends</span></span></span>
<span class="r-in"><span><span class="va">legends1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'orange'</span>, <span class="st">'chartreuse4'</span>, <span class="st">'darkorchid4'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Group 1'</span>, <span class="st">'Group 2'</span>, <span class="st">'Group 3'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        border <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'orange'</span>, <span class="st">'chartreuse4'</span>, <span class="st">'darkorchid4'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        title <span class="op">=</span> <span class="st">'Legend #1'</span></span></span>
<span class="r-in"><span>        <span class="op">)</span>,</span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'firebrick3'</span>, <span class="st">'lightgrey'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Case'</span>, <span class="st">'Control'</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a legend grob using defaults</span></span></span>
<span class="r-in"><span><span class="va">legend.grob1</span> <span class="op">&lt;-</span> <span class="fu">legend.grob</span><span class="op">(</span></span></span>
<span class="r-in"><span>    legends <span class="op">=</span> <span class="va">legends1</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'x' is NULL so the result will be NULL</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">tiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'legend_grob1'</span>, fileext <span class="op">=</span> <span class="st">'.tiff'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="va">bitmap.type</span>,</span></span>
<span class="r-in"><span>    width <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    height <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    units <span class="op">=</span> <span class="st">'in'</span>,</span></span>
<span class="r-in"><span>    res <span class="op">=</span> <span class="fl">800</span>,</span></span>
<span class="r-in"><span>    compression <span class="op">=</span> <span class="st">'lzw'</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">grid.draw</span><span class="op">(</span><span class="va">legend.grob1</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span>;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg_png </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create the same legend with some customizations</span></span></span>
<span class="r-in"><span><span class="va">legend.grob2</span> <span class="op">&lt;-</span> <span class="fu">legend.grob</span><span class="op">(</span></span></span>
<span class="r-in"><span>    legends <span class="op">=</span> <span class="va">legends1</span>,</span></span>
<span class="r-in"><span>    label.cex <span class="op">=</span> <span class="fl">1.25</span>,</span></span>
<span class="r-in"><span>    title.cex <span class="op">=</span> <span class="fl">1.25</span>,</span></span>
<span class="r-in"><span>    title.just <span class="op">=</span> <span class="st">'left'</span>,</span></span>
<span class="r-in"><span>    title.fontface <span class="op">=</span> <span class="st">'bold.italic'</span>,</span></span>
<span class="r-in"><span>    size <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>    border <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'x' is NULL so the result will be NULL</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">tiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'legend_grob2'</span>, fileext <span class="op">=</span> <span class="st">'.tiff'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="va">bitmap.type</span>,</span></span>
<span class="r-in"><span>    width <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    height <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    units <span class="op">=</span> <span class="st">'in'</span>,</span></span>
<span class="r-in"><span>    res <span class="op">=</span> <span class="fl">800</span>,</span></span>
<span class="r-in"><span>    compression <span class="op">=</span> <span class="st">'lzw'</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">grid.draw</span><span class="op">(</span><span class="va">legend.grob2</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span>;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg_png </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a legend where the title is underlined (see ?plotmath), add space between rows</span></span></span>
<span class="r-in"><span><span class="va">legends2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'orange'</span>, <span class="st">'chartreuse4'</span>, <span class="st">'darkorchid4'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Group 1'</span>, <span class="st">'Group 2'</span>, <span class="st">'Group 3'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu">underline</span><span class="op">(</span><span class="st">'Legend #1'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="co"># Use dots instead of rectangles</span></span></span>
<span class="r-in"><span>    point <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'firebrick3'</span>, <span class="st">'lightgrey'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'A label'</span>, <span class="st">'A longer label'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="co"># Set dot size</span></span></span>
<span class="r-in"><span>        cex <span class="op">=</span> <span class="fl">1.5</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create the new legend and use more complex border</span></span></span>
<span class="r-in"><span><span class="va">legend.grob3</span> <span class="op">&lt;-</span> <span class="fu">legend.grob</span><span class="op">(</span></span></span>
<span class="r-in"><span>    legends <span class="op">=</span> <span class="va">legends2</span>,</span></span>
<span class="r-in"><span>    border <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">'blue'</span>, lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    border.padding <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>    between.row <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'x' is NULL so the result will be NULL</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'x' is NULL so the result will be NULL</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">tiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'legend_grob3'</span>, fileext <span class="op">=</span> <span class="st">'.tiff'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="va">bitmap.type</span>,</span></span>
<span class="r-in"><span>    width <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    height <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    units <span class="op">=</span> <span class="st">'in'</span>,</span></span>
<span class="r-in"><span>    res <span class="op">=</span> <span class="fl">800</span>,</span></span>
<span class="r-in"><span>    compression <span class="op">=</span> <span class="st">'lzw'</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">grid.draw</span><span class="op">(</span><span class="va">legend.grob3</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span>;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg_png </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a legend where the size of boxes is customized</span></span></span>
<span class="r-in"><span><span class="va">legends3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'orange'</span>, <span class="st">'chartreuse4'</span>, <span class="st">'darkorchid4'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Group 1'</span>, <span class="st">'Group 2'</span>, <span class="st">'Group 3'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        title <span class="op">=</span> <span class="st">'Legend #1'</span>,</span></span>
<span class="r-in"><span>        size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span>,</span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        colours <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'+'</span>, <span class="st">'-'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        border <span class="op">=</span> <span class="st">'transparent'</span>,</span></span>
<span class="r-in"><span>        title <span class="op">=</span> <span class="st">'Disease status'</span>,</span></span>
<span class="r-in"><span>        size <span class="op">=</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">legend.grob4</span> <span class="op">&lt;-</span> <span class="fu">legend.grob</span><span class="op">(</span></span></span>
<span class="r-in"><span>    legends <span class="op">=</span> <span class="va">legends3</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'x' is NULL so the result will be NULL</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'x' is NULL so the result will be NULL</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">tiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'legend_grob4'</span>, fileext <span class="op">=</span> <span class="st">'.tiff'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="va">bitmap.type</span>,</span></span>
<span class="r-in"><span>    width <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    height <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    units <span class="op">=</span> <span class="st">'in'</span>,</span></span>
<span class="r-in"><span>    res <span class="op">=</span> <span class="fl">800</span>,</span></span>
<span class="r-in"><span>    compression <span class="op">=</span> <span class="st">'lzw'</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">grid.draw</span><span class="op">(</span><span class="va">legend.grob4</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span>;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg_png </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Paul Boutros.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

